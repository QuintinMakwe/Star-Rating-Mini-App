<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Star Rating Mini App</title>
    <link href="fontawesome-free-5.9.0-web/css/all.css" rel="stylesheet" />
    <link rel="stylesheet" href="bootstrap-4/css/bootstrap.min.css" />
  </head>
  <style>
    .stars-outer {
      position: relative;
      display: inline-block;
    }

    .stars-inner {
      position: absolute;
      top: 0;
      left: 0;
      white-space: nowrap;
      overflow: hidden;
      width: 0;
    }

    .stars-outer::before {
      content: "\f005 \f005 \f005 \f005 \f005";
      font-family: "Font Awesome 5 Free";
      font-weight: 900;
      color: #ccc;
    }

    .stars-inner::before {
      content: "\f005 \f005 \f005 \f005 \f005";
      font-family: "Font Awesome 5 Free";
      font-weight: 900;
      color: #f8ce0b;
    }
  </style>
  <body>
    <div class="container">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>4k Television</th>
            <th>Rating</th>
          </tr>
        </thead>
        <tbody>
          <tr class="sony">
            <td>Sony 4k Tv</td>
            <td>
              <div class="stars-outer"><div class="stars-inner"></div></div>

              <span class="number-rating"></span>
            </td>
          </tr>
          <tr class="samsung">
            <td>Samsung 4k Tv</td>
            <td>
              <div class="stars-outer"><div class="stars-inner"></div></div>

              <span class="number-rating"></span>
            </td>
          </tr>
          <tr class="vizio">
            <td>Vizio 4k Tv</td>
            <td>
              <div class="stars-outer"><div class="stars-inner"></div></div>

              <span class="number-rating"></span>
            </td>
          </tr>
          <tr class="panasonic">
            <td>Panasonic 4k Tv</td>
            <td>
              <div class="stars-outer"><div class="stars-inner"></div></div>

              <span class="number-rating"></span>
            </td>
          </tr>
          <tr class="phillips">
            <td>Phillips 4k Tv</td>
            <td>
              <div class="stars-outer"><div class="stars-inner"></div></div>

              <span class="number-rating"></span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>
  <script>
    //initial ratings
    const ratings = {
      sony: 4.7,
      samsung: 4.2,
      vizio: 2.4,
      panasonic: 3.5,
      phillips: 1.2
    };

    //Total stars
    const starsTotal = 5;

    //Run getRatings when DOM loads
    document.addEventListener("DOMContentLoaded", getRatings);

    //Get ratings
    function getRatings() {
      for (let rating in ratings) {
        //Get percentage
        const starPercentage = (ratings[rating] / starsTotal) * 100;

        //Round to the nearest 10
        const starPercentageRounded = `${Math.round(starPercentage / 10) *
          10}%`;

        //Set width of stars-inner to percentage
        document.querySelector(
          `.${rating}.stars-inner`
        ).style.width = starPercentageRounded;
      }
    }
  </script>
</html>
